<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="head :: head(title = 'プロジェクト登録',scripts = ~{}, links = ~{})">
</head>
<body>
    <h3>プロジェクト情報登録</h3>
    <div class="project_form">
        <form th:action="@{/project/save}" th:object="${projectDto}" method="post">
            <div class="client_name">
                <label>顧客名</label>
                <button id="searchButton" data-bs-toggle="modal" data-bs-target="#clientSearch" type="button" class="btn btn-primary">
                    検索
                </button>
                <input type="text" id="clientId" th:field="*{clientId}">
                <input type="text" th:field="*{clientName}">
            </div>
            <div class="item">
                <label>商品名</label>
                <select th:field="*{item}">
                    <option th:each="item : ${items}" th:value="${item.key}" th:text="${item.value}" th:selected="${item.key == 0}"></option>
                </select>
            </div>
            <div class="quantity">
                <label>数量</label>
                <input type="text" th:field="*{quantity}">
            </div>
            <div class="amount">
                <label>金額</label>
                <input type="text" th:field="*{amount}">
            </div>
            <div class="manager">
                <label>担当者</label>
                <select name="manager" th:field="*{manager}">
                   <option th:each="manager : ${managers}" th:value="${manager.key}"
                           th:text="${manager.value}" th:selected="${manager.key == 0}"></option>
                </select>
            </div>
            <div class="reception_date">
                <label>受付日</label>
                <input type="date" th:field="*{receptionDate}">
            </div>
            <div class="progress">
                <label>状況</label>
                <select name="progress" th:field="*{progress}">
                    <option th:each="progress : ${progress}" th:value="${progress.key}"
                            th:text="${progress.value}" th:selected="${progress.key == 0}"></option>
                </select>
            </div>
            <div class="delivery_date">
                <label>納品日</label>
                <input type="date" th:field="*{deliveryDate}">
            </div>
            <div class="submit">
                <input type="submit" value="登録">
            </div>
        </form>
    </div>
    <div class="modal fade" id="clientSearch" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="ModalLabel">Modal title</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <input type="text" name="name" id="client_text">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="cancel">キャンセル</button>
                            <input type="button" id="search_button" class="btn btn-primary" value="検索">
                        </div>
                    </form>
                    <table id="clientTable">
                        <thead>
                        <tr>
                            <td>顧客名</td>
                            <td></td>
                        </tr>
                        </thead>
                        <tbody id="clientTbody">
                        <tr class="clientTr" style="display: none;">
                            <td class="clientName"></td>
                            <td><button class="btn btn-secondary decision">決定</button> </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" th:src="@{/js/project.js}"></script>
</body>
</html>